{% extends 'emails/_layout.html.twig' %}

{% block title %}Pedido #{{ order.id }}{% endblock %}

{% block content %}
    <h2 style="margin: 0 0 12px; font-size: 18px;">Pedido #{{ order.id }}</h2>
    <p style="margin: 0 0 16px; font-size: 14px;">
        Fecha: {{ generatedAt|date('d/m/Y H:i') }}
    </p>
    <p style="margin: 0 0 16px; font-size: 14px;">
        Comercio: {{ order.business.name }}
    </p>

    {% if order.notes %}
        <div style="margin: 0 0 16px; font-size: 14px;">
            <strong>Mensaje del comercio:</strong>
            <div>{{ order.notes|nl2br }}</div>
        </div>
    {% endif %}

    <table width="100%" cellpadding="0" cellspacing="0" role="presentation" style="border-collapse: collapse; font-size: 14px;">
        <thead>
            <tr>
                <th align="left" style="border-bottom: 1px solid #e5e7eb; padding: 8px;">Código proveedor</th>
                <th align="left" style="border-bottom: 1px solid #e5e7eb; padding: 8px;">Producto</th>
                <th align="right" style="border-bottom: 1px solid #e5e7eb; padding: 8px;">Cantidad</th>
            </tr>
        </thead>
        <tbody>
            {% for item in order.items %}
                <tr>
                    <td style="border-bottom: 1px solid #f0f0f0; padding: 8px;">{{ item.product.supplierSku ?: '-' }}</td>
                    <td style="border-bottom: 1px solid #f0f0f0; padding: 8px;">{{ item.product.name }}</td>
                    <td align="right" style="border-bottom: 1px solid #f0f0f0; padding: 8px;">{{ item.quantity }}</td>
                </tr>
            {% else %}
                <tr>
                    <td colspan="3" style="padding: 12px; color: #6c757d;">Sin items en el pedido.</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>

    <p style="margin: 16px 0 0; font-size: 12px; color: #6c757d;">
        <a href="{{ termsUrl }}" style="color: #6c757d;">Términos de uso de ItaStock</a>
    </p>
{% endblock %}
