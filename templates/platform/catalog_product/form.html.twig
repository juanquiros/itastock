{% extends 'platform/base_platform.html.twig' %}

{% block header_title %}{{ product.id ? 'Editar producto global' : 'Nuevo producto global' }}{% endblock %}

{% block body %}
    <div class="mb-3">
        <a class="btn btn-outline-secondary" href="{{ path('platform_catalog_product_index') }}">Volver</a>
    </div>
    {{ form_start(form) }}
        {{ form_row(form.name) }}
        {{ form_row(form.presentation) }}
        {# Convención escaneo: input con data-barcode-scanner-target="input" + botón con data-action y data-barcode-scanner-input-id #}
        {{ form_label(form.barcode) }}
        <div class="input-group mb-3" data-barcode-scanner-scope>
            {{ form_widget(form.barcode) }}
            <button
                type="button"
                class="btn btn-outline-secondary barcode-scan-button align-items-center"
                data-action="barcode-scanner#open"
                data-barcode-scanner-input-id="{{ form.barcode.vars.id }}"
            >
                Escanear
            </button>
        </div>
        {{ form_errors(form.barcode) }}
        {{ form_row(form.sku) }}
        {{ form_row(form.category) }}
        {{ form_row(form.brand) }}
        {{ form_row(form.isActive) }}
        <button class="btn btn-primary mt-3">{{ product.id ? 'Guardar' : 'Crear' }}</button>
    {{ form_end(form) }}
{% endblock %}
