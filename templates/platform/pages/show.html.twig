{% extends 'platform/base_platform.html.twig' %}

{% block header_title %}Detalle página{% endblock %}

{% block body %}
    <div class="mb-3">
        <a class="btn btn-outline-secondary" href="{{ path('platform_pages_index') }}">Volver</a>
        <a class="btn btn-primary" href="{{ path('platform_pages_edit', {id: page.id}) }}">Editar</a>
        {% if page.isPublished %}
            <a class="btn btn-success" target="_blank" href="{{ page.slug in ['home','features','pricing','terms','privacy'] ? path('public_' ~ page.slug) : path('public_page', {slug: page.slug}) }}">Ver público</a>
        {% endif %}
    </div>
    <dl class="row">
        <dt class="col-sm-2">Slug</dt><dd class="col-sm-10">{{ page.slug }}</dd>
        <dt class="col-sm-2">Título</dt><dd class="col-sm-10">{{ page.title }}</dd>
        <dt class="col-sm-2">Meta</dt><dd class="col-sm-10">{{ page.metaDescription ?: '—' }}</dd>
        <dt class="col-sm-2">Imagen meta</dt>
        <dd class="col-sm-10">
            {% if page.metaImagePath %}
                <img src="{{ page.metaImagePath }}" alt="Imagen meta" class="border rounded" style="max-width: 220px; max-height: 140px;">
            {% else %}
                —
            {% endif %}
        </dd>
        <dt class="col-sm-2">Publicado</dt><dd class="col-sm-10">{{ page.isPublished ? 'Sí' : 'No' }}</dd>
        <dt class="col-sm-2">Actualizado</dt><dd class="col-sm-10">{{ page.updatedAt ? page.updatedAt|date('Y-m-d H:i') : '—' }}</dd>
    </dl>
    <div class="card mt-3">
        <div class="card-header">Contenido</div>
        <div class="card-body">
            {{ page.bodyHtml|raw }}
        </div>
    </div>
{% endblock %}
